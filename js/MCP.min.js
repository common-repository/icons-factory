/*
    Application: Material color picker
    Version: 1.0.6
    Author: Artemy
	License: CC BY
    URI: https://svgsprite.com/material-color-picker/
*/
"use strict";var MCP=function(){var b="MCP_",g=[[["ffebee","50",1],["ffcdd2","100",1],["ef9a9a","200",1],["e57373","300",1],["ef5350","400",0],["f44336","500",0],["e53935","600",0],["d32f2f","700",0],["c62828","800",0],["b71c1c","900",0],["ff8a80","A100",1],["ff5252","A200",0],["ff1744","A400",0],["d50000","A700",0]],[["fce4ec","50",1],["f8bbd0","100",1],["f48fb1","200",1],["f06292","300",0],["ec407a","400",0],["e91e63","500",0],["d81b60","600",0],["c2185b","700",0],["ad1457","800",0],["880e4f","900",0],["ff80ab","A100",1],["ff4081","A200",0],["f50057","A400",0],["c51162","A700",0]],[["f3e5f5","50",1],["e1bee7","100",1],["ce93d8","200",1],["ba68c8","300",0],["ab47bc","400",0],["9c27b0","500",0],["8e24aa","600",0],["7b1fa2","700",0],["6a1b9a","800",0],["4a148c","900",0],["ea80fc","A100",1],["e040fb","A200",0],["d500f9","A400",0],["aa00ff","A700",0]],[["ede7f6","50",1],["d1c4e9","100",1],["b39ddb","200",1],["9575cd","300",0],["7e57c2","400",0],["673ab7","500",0],["5e35b1","600",0],["512da8","700",0],["4527a0","800",0],["311b92","900",0],["b388ff","A100",1],["7c4dff","A200",0],["651fff","A400",0],["6200ea","A700",0]],[["e8eaf6","50",1],["c5cae9","100",1],["9fa8da","200",1],["7986cb","300",0],["5c6bc0","400",0],["3f51b5","500",0],["3949ab","600",0],["303f9f","700",0],["283593","800",0],["1a237e","900",0],["8c9eff","A100",1],["536dfe","A200",0],["3d5afe","A400",0],["304ffe","A700",0]],[["e3f2fd","50",1],["bbdefb","100",1],["90caf9","200",1],["64b5f6","300",1],["42a5f5","400",1],["2196f3","500",0],["1e88e5","600",0],["1976d2","700",0],["1565c0","800",0],["0d47a1","900",0],["82b1ff","A100",1],["448aff","A200",0],["2979ff","A400",0],["2962ff","A700",0]],[["e1f5fe","50",1],["b3e5fc","100",1],["81d4fa","200",1],["4fc3f7","300",1],["29b6f6","400",1],["03a9f4","500",0],["039be5","600",0],["0288d1","700",0],["0277bd","800",0],["01579b","900",0],["80d8ff","A100",1],["40c4ff","A200",1],["00b0ff","A400",1],["0091ea","A700",0]],[["e0f7fa","50",1],["b2ebf2","100",1],["80deea","200",1],["4dd0e1","300",1],["26c6da","400",1],["00bcd4","500",1],["00acc1","600",1],["0097a7","700",0],["00838f","800",0],["006064","900",0],["84ffff","A100",1],["18ffff","A200",1],["00e5ff","A400",1],["00b8d4","A700",1]],[["e0f2f1","50",1],["b2dfdb","100",1],["80cbc4","200",1],["4db6ac","300",1],["26a69a","400",1],["009688","500",0],["00897b","600",0],["00796b","700",0],["00695c","800",0],["004d40","900",0],["a7ffeb","A100",1],["64ffda","A200",1],["1de9b6","A400",1],["00bfa5","A700",1]],[["e8f5e9","50",1],["c8e6c9","100",1],["a5d6a7","200",1],["81c784","300",1],["66bb6a","400",1],["4caf50","500",1],["43a047","600",0],["388e3c","700",0],["2e7d32","800",0],["1b5e20","900",0],["b9f6ca","A100",1],["69f0ae","A200",1],["00e676","A400",1],["00c853","A700",1]],[["f1f8e9","50",1],["dcedc8","100",1],["c5e1a5","200",1],["aed581","300",1],["9ccc65","400",1],["8bc34a","500",1],["7cb342","600",1],["689f38","700",0],["558b2f","800",0],["33691e","900",0],["ccff90","A100",1],["b2ff59","A200",1],["76ff03","A400",1],["64dd17","A700",1]],[["f9fbe7","50",1],["f0f4c3","100",1],["e6ee9c","200",1],["dce775","300",1],["d4e157","400",1],["cddc39","500",1],["c0ca33","600",1],["afb42b","700",1],["9e9d24","800",1],["827717","900",0],["f4ff81","A100",1],["eeff41","A200",1],["c6ff00","A400",1],["aeea00","A700",1]],[["fffde7","50",1],["fff9c4","100",1],["fff59d","200",1],["fff176","300",1],["ffee58","400",1],["ffeb3b","500",1],["fdd835","600",1],["fbc02d","700",1],["f9a825","800",1],["f57f17","900",1],["ffff8d","A100",1],["ffff00","A200",1],["ffea00","A400",1],["ffd600","A700",1]],[["fff8e1","50",1],["ffecb3","100",1],["ffe082","200",1],["ffd54f","300",1],["ffca28","400",1],["ffc107","500",1],["ffb300","600",1],["ffa000","700",1],["ff8f00","800",1],["ff6f00","900",1],["ffe57f","A100",1],["ffd740","A200",1],["ffc400","A400",1],["ffab00","A700",1]],[["fff3e0","50",1],["ffe0b2","100",1],["ffcc80","200",1],["ffb74d","300",1],["ffa726","400",1],["ff9800","500",1],["fb8c00","600",1],["f57c00","700",1],["ef6c00","800",0],["e65100","900",0],["ffd180","A100",1],["ffab40","A200",1],["ff9100","A400",1],["ff6d00","A700",1]],[["fbe9e7","50",1],["ffccbc","100",1],["ffab91","200",1],["ff8a65","300",1],["ff7043","400",1],["ff5722","500",0],["f4511e","600",0],["e64a19","700",0],["d84315","800",0],["bf360c","900",0],["ff9e80","A100",1],["ff6e40","A200",1],["ff3d00","A400",0],["dd2c00","A700",0]],[["efebe9","50",1],["d7ccc8","100",1],["bcaaa4","200",1],["a1887f","300",0],["8d6e63","400",0],["795548","500",0],["6d4c41","600",0],["5d4037","700",0],["4e342e","800",0],["3e2723","900",0]],[["fafafa","50",1],["f5f5f5","100",1],["eeeeee","200",1],["e0e0e0","300",1],["bdbdbd","400",1],["9e9e9e","500",1],["757575","600",0],["616161","700",0],["424242","800",0],["212121","900",0]],[["eceff1","50",1],["cfd8dc","100",1],["b0bec5","200",1],["90a4ae","300",0],["78909c","400",0],["607d8b","500",0],["546e7a","600",0],["455a64","700",0],["37474f","800",0],["263238","900",0]],[["000000","B",0],["ffffff","W",1]]],h={config:{target:".material_color_picker",mode:"normal",callbacks:[],target_callback:0,reset_calls:!1,hide_if_outer_click:!0,fav_colors:[[250,192,27,1],[250,220,188,1],[224,187,149,1],[191,143,104,1],[155,100,60,1],[88,69,57,1]],show_initial_color:!0,position_mode:"fixed",show_alpha:!0},els:{picker:!1,prev_color_box:!1,prev_target_input:!1,targets:[]},state:{init:!1,hide:!0,color:{raw_value:!1,hex:!1,rgba:!1,hsva:!1},draggable_time:!1,frame:"grid",page_width:!1,page_height:!1,_x:30,_y:30},init:function(j){if(!1===h.state.init){for(var k in h.init_window_params(),window.addEventListener("resize",function(){h.init_window_params(),h.init_picker_position()}),j)this.config[k]=j[k];if(this.supports_storage&&(this.get_fav_color_from_storage(),localStorage.MCP_frame&&(this.state.frame=localStorage.MCP_frame)),this.render_picker(),this.init_picker_position(!0),this.config.hide_if_outer_click){var m=document.body;m.addEventListener("click",function(){h.hide_picker()}),m.addEventListener("touchstart",function(){h.hide_picker()})}this.els.tune_input.onkeyup=function(){h.validate_tune_input(event,this.value)},this.draggable(h.els.handle,{onstart:function(p,q){this.target=h.els.picker,this.old_x=h.state._x||0,this.old_y=h.state._y||0,h.state.picker_width=this.target.clientWidth,h.state.picker_height=this.target.clientHeight,this.max_x=h.state.page_width-h.state.picker_width-10,this.max_y=h.state.page_height-h.state.picker_height-10,h.state.draggable_time=!0,q.style.backgroundColor="rgba(255, 255, 255, 0.66)",h.add_class(h.els.picker,"MCP_draggable")},onmove:function(p){this.new_x=Math.round(this.old_x+p.dx),this.new_y=Math.round(this.old_y+p.dy),10>this.new_x&&(this.new_x=10),this.new_x>this.max_x&&(this.new_x=this.max_x),10>this.new_y&&(this.new_y=10),this.new_y>this.max_y&&(this.new_y=this.max_y),this.target.style.left=this.new_x+"px",this.target.style.top=this.new_y+"px"},onstop:function(p,q){h.state._x=this.new_x,h.state._y=this.new_y,h.save_picker_position();var u=setTimeout(function(){h.state.draggable_time=!1,clearTimeout(u)},100);q.style.backgroundColor="",h.remove_class(h.els.picker,"MCP_draggable")}}),"normal"===this.config.mode&&this.render_previews(),h.state.init=!0}},init_window_params:function(){this.state.page_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.state.page_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},init_picker_position:function(j){var k,m,p=this.state._x,q=this.state._y;if(j){var u=!!this.supports_storage&&localStorage.MCP_picker_position;u&&(u=u.split("|"),p=parseInt(u[0]),q=parseInt(u[1]))}k=p+150+30,m=q+430+30,this.state._x=k>this.state.page_width?this.state.page_width-150-30:p,this.state._y=m>this.state.page_height?this.state.page_height-430-30:q,this.els.picker.style.left=this.state._x+"px",this.els.picker.style.top=this.state._y+"px",j&&this.save_picker_position()},save_picker_position:function(){this.supports_storage&&(localStorage.MCP_picker_position=this.state._x+"|"+this.state._y)},render_previews:function(j){var k=document.querySelectorAll(this.config.target);if(0<k.length)for(var m=0;m<k.length;m++){var p=k[m],q=p.value;p.id,j?this.update_target_template(p,q):(p.style.display="none",p.setAttribute("data-init-value",q),p.parentNode.insertBefore(this.targets_template(p,q),k[m].nextSibling))}},targets_template:function(j,k){var m=document.createElement("div");return m.className="MCP_preview_wrap"+(this.config.show_initial_color?" MCP_show_initial_color":""),m.onclick=function(p){h.targets_events(p,this,j)},m.ontouchstart=function(p){h.targets_events(p,this,j)},m.innerHTML="<div class=\"MCP_preview_new_color\" style=\"background-color: "+k+"\"></div>"+this.svg_wrapper("<path d=\"M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42-8.92 8.92v4.75h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zm-13.79 13.37l-1.92-1.92 8.06-8.06 1.92 1.92-8.06 8.06z\"/>")+(this.config.show_initial_color?"<div class=\"MCP_preview\" style=\"background-color: "+k+"\"></div>":""),m},update_target_template:function(j,k){j.nextSibling.children[0].style.backgroundColor=k},targets_events:function(j,k,m){var p=j||window.event,q=k.getBoundingClientRect(),u=Math.round(q.left+window.scrollX),v=Math.round(q.bottom+window.scrollY)+25,w=m.value;"normal"!==this.config.mode&&(this.config.mode="normal"),this.config.reset_calls&&0<this.config.callbacks.length&&(this.config.target_callback=0),this.state.color.raw_value=w,this.els.prev_target_preview&&this.reset_target_preview(!0),this.state.hide&&(this.els.picker.style.display="block",this.state.hide=!1,localStorage.MCP_picker_position||(this.els.picker.style.left=u+"px",this.els.picker.style.top=v+"px",this.state._x=u,this.state._y=v)),this.els.target_input=m,this.els.target_preview=k,this.add_class(this.els.target_preview,"MCP_preview_current"),this.update_color(w),this.els.prev_target_preview=k,this.cancel_bubble(p)},reset_target_preview:function(j){this.remove_class(this.els.prev_target_preview,"MCP_preview_current"),j||(this.els.target_preview=!1)},update_color:function(j,k){if(!j)return!1;var m=!1,p=this.state.color.rgba,q="normal"===this.config.mode&&this.els.prev_target_preview===this.els.target_preview,u="custom"===this.config.mode&&j!==this.state.color.raw_value;if("[object Array]"===Object.prototype.toString.call(j))this.save_color_as_rgba_array(j);else if(-1<j.indexOf(",")){var v=this.rgba_format(j);v?this.save_color_as_rgba_array(v):m=!0}else"#"!==j[0]&&(j="#"+j),this.is_hex(j)?(this.state.color.hex=j.toLowerCase(),this.state.color.rgba=this.hex_to_rgba(j),this.config.show_alpha&&this.set_slider_value("alpha",94,100,!0)):m=!0;return!0==m?(!0!==this.state.tune_input&&this.tune_input_state(!0),this.state.color.hex="#ffffff",this.state.color.rgba=[255,255,255,1],!1):void(!0===this.state.tune_input&&this.tune_input_state(!1),this.state.color.hsva=this.rgba_to_hsva(this.state.color.rgba),this.set_slider_value("hue",94/360*this.state.color.hsva[0],this.state.color.hsva[0],!0),this.set_slider_value("saturation",0.94*this.state.color.hsva[1],this.state.color.hsva[1],!0),this.set_slider_value("brightness",0.94*this.state.color.hsva[2],this.state.color.hsva[2],!0),k||this.update_tune_input(),"normal"===this.config.mode&&(!1!==this.els.prev_target_input&&this.els.prev_target_input!==this.els.target_input||this.update_color_output(),this.els.prev_target_input=this.els.target_input),0<this.config.callbacks.length&&p&&(q||u)&&this.config.callbacks[this.config.target_callback](this.state.color))},save_color_as_rgba_array:function(j){this.state.color.rgba=j,this.state.color.hex=this.rgba_to_hex(this.state.color.rgba),this.config.show_alpha&&this.set_slider_value("alpha",94*j[3],parseFloat((100*j[3]).toFixed(2)),!0)},render_picker:function(){document.body.appendChild(this.picker_template()),this.els.grid_btn=document.getElementById("MCP_grid_btn"),this.els.tune_btn=document.getElementById("MCP_tune_btn"),this.els.fav_btn=document.getElementById("MCP_fav_btn"),this.els.material_colors_grid_wrap=document.getElementById("MCP_material_colors_grid_wrap"),this.els.handle=document.getElementById("MCP_handle_btn"),this.els.tune_input=document.getElementById("MCP_tune_input"),this.els.fav_colors_grid_wrap=document.getElementById("MCP_fav_colors_grid_wrap"),this.els.edit_fav_btn=document.getElementById("MCP_edit_fav_btn"),this.els.slider_hue=document.getElementById("MCP_slider_hue"),this.els.slider_hue_output=this.els.slider_hue.parentNode.parentNode.children[1],this.els.slider_saturation=document.getElementById("MCP_slider_saturation"),this.els.slider_saturation_output=this.els.slider_saturation.parentNode.parentNode.children[1],this.els.slider_brightness=document.getElementById("MCP_slider_brightness"),this.els.slider_brightness_output=this.els.slider_brightness.parentNode.parentNode.children[1],this.config.show_alpha&&(this.els.slider_alpha=document.getElementById("MCP_slider_alpha"),this.els.slider_alpha_output=this.els.slider_alpha.parentNode.parentNode.children[1]);var j={onstart:function(k,m){var p=m.parentNode,q=p.attributes["data-vars"].value.split(",");this.slider_name=p.attributes["data-name"].value,this.slider_index=p.attributes["data-index"].value,this.old_x=parseFloat(m.attributes["data-x"].value)||0,this.slider_min=parseFloat(q[1]),this.slider_max=parseFloat(q[2]),this.slider_normal_val=h.slider_calc_normal_val(this.old_x,this.slider_min,this.slider_max)||0,h.state.draggable_time=!0,this.kf=!0===k.shiftKey?4*Math.round(this.slider_max/94):1},onmove:function(k,m){0!==k.dx&&(this.new_x=this.old_x+k.dx/this.kf,this.slider_normal_val=h.slider_calc_normal_val(this.new_x,this.slider_min,this.slider_max),0>this.new_x&&(this.new_x=0),94<this.new_x&&(this.new_x=94),m.style.left=this.new_x+"px",h.els["slider_"+this.slider_name+"_output"].innerHTML=this.slider_normal_val,h.update_color_component(this.slider_normal_val,this.slider_index))},onstop:function(k,m){var p=setTimeout(function(){h.state.draggable_time=!1,clearTimeout(p)},100);m.setAttribute("data-x",this.new_x),m.setAttribute("data-val",this.slider_normal_val),!0===h.state.tune_input&&h.tune_input_state(!1)}};this.draggable(h.els.slider_hue,j),this.draggable(h.els.slider_saturation,j),this.draggable(h.els.slider_brightness,j),this.config.show_alpha&&this.draggable(h.els.slider_alpha,j)},picker_template:function(){var j=document.createElement("div"),k="";j.onclick=function(q){h.picker_events(q,j)},j.ontouchstart=function(q){h.picker_events(q,j),q.preventDefault()},j.className="MCP_state_"+h.state.frame,j.id="MCP_picker",j.style.position=this.config.position_mode||"fixed",j.setAttribute("data-action","Picker event"),k+="<div class=\"MCP_picker_head\">",k+="<div data-action=\"grid_btn\" id=\"MCP_grid_btn\" class=\"MCP_btn\">"+h.svg_wrapper("<path d=\"M4 8h4v-4h-4v4zm6 12h4v-4h-4v4zm-6 0h4v-4h-4v4zm0-6h4v-4h-4v4zm6 0h4v-4h-4v4zm6-10v4h4v-4h-4zm-6 4h4v-4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z\"/>")+"</div>",k+="<div data-action=\"tune_btn\" id=\"MCP_tune_btn\" class=\"MCP_btn\">"+h.svg_wrapper("<path d=\"M3 17v2h6v-2h-6zm0-12v2h10v-2h-10zm10 16v-2h8v-2h-8v-2h-2v6h2zm-6-12v2h-4v2h4v2h2v-6h-2zm14 4v-2h-10v2h10zm-6-4h2v-2h4v-2h-4v-2h-2v6z\"/>")+"</div>",k+="<div data-action=\"fav_btn\" id=\"MCP_fav_btn\" class=\"MCP_btn\">"+h.svg_wrapper("<path d=\"M20.8,9.1l-5.7-0.5c-0.2,0-0.3-0.1-0.4-0.3l-2.2-5.3c-0.2-0.4-0.7-0.4-0.9,0L9.3,8.4C9.2,8.5,9.1,8.6,8.9,8.7L3.2,9.1 c-0.4,0-0.6,0.6-0.3,0.9l4.3,3.8c0.1,0.1,0.2,0.3,0.2,0.5l-1.3,5.6c-0.1,0.4,0.4,0.8,0.7,0.5l4.9-3c0.2-0.1,0.4-0.1,0.5,0l4.9,3 c0.4,0.2,0.8-0.1,0.7-0.5l-1.3-5.6c0-0.2,0-0.4,0.2-0.5l4.3-3.8C21.4,9.7,21.3,9.2,20.8,9.1z M11.7,15.6l-2.5,1.5 c-0.4,0.2-0.8-0.1-0.7-0.5l0.7-2.8c0-0.2,0-0.4-0.2-0.5l-2.2-1.9c-0.3-0.3-0.2-0.8,0.3-0.9l2.9-0.3c0.2,0,0.3-0.1,0.4-0.3l1.1-2.7 c0.2-0.4,0.7-0.4,0.9,0l1.1,2.7c0.1,0.2,0.2,0.3,0.4,0.3l2.9,0.3c0.4,0,0.6,0.6,0.3,0.9L15,13.2c-0.1,0.1-0.2,0.3-0.2,0.5l0.7,2.8 c0.1,0.4-0.4,0.8-0.7,0.5l-2.5-1.5C12.1,15.5,11.9,15.5,11.7,15.6z\"/>")+"</div>",k+="</div>",k+="<div class=\"MCP_frames_wrap\"><div id=\"MCP_frames\" class=\"MCP_frames\">",k+="<div class=\"MCP_frame MCP_colors_grid MCP_material_colors_grid\">"+h.material_colors_grid_template()+"</div>";var m="";m+="<input id=\"MCP_tune_input\" class=\"MCP_tune_input\" type=\"text\" value=\"\" data-action=\"tune_input\" />",m+=h.slider_template("Hue",0,[0,0,360],"&deg;"),m+=h.slider_template("Saturation",1,[0,0,100],"%"),m+=h.slider_template("Brightness",2,[0,0,100],"%"),h.config.show_alpha&&(m+=h.slider_template("Alpha",3,[100,0,100],"%")),m+="<div class=\"MCP_text_btn MCP_text_btn_left\" data-action=\"reset_btn\">Reset</div>",k+="<div class=\"MCP_frame MCP_color_tune\">"+(m+="<div class=\"MCP_text_btn MCP_text_btn_right\"><div class=\"MCP_help_label\">?</div><div class=\"MCP_tips\"><div class=\"MCP_strong\">Tips</div><div class=\"MCP_p\">The top field supports RGBA and HEX color formats.</div><div class=\"MCP_p\">Hold Shift key dragging a slider handle to better accuracy.</div><div class=\"MCP_p\">Use Reset button to get the initial color.</div><div class=\"MCP_p\" style=\"position: absolute; bottom: 12px;\"><a data-action=\"backlink\" href=\"https://svgsprite.com/material-color-picker/\" target=\"_blank\" style=\"color: #2979ff;\">Get the picker source files</a></div></div></div>")+"</div>";var p="";return p+="<div class=\"MCP_colors_grid MCP_fav_colors_grid\">"+h.fav_colors_grid_template()+"</div>",p+="<div class=\"MCP_text_btn MCP_text_btn_left\" data-action=\"add_fav_btn\">Add new</div>",p+="<div id=\"MCP_edit_fav_btn\" "+(0===h.config.fav_colors.length?"style=\"opacity: 0;\"":"")+" class=\""+b+"text_btn "+b+"text_btn_right\" data-action=\"edit_fav_btn\">Edit</div>",k+="<div class=\"MCP_frame MCP_colos_favs\">"+p+"</div>",k+="</div></div>",k+="<div class=\"MCP_picker_footer\">",k+="<div data-action=\"handle_btn\" id=\"MCP_handle_btn\" class=\"MCP_handle\">"+h.svg_wrapper("<path d=\"M20,0H19V3h1V0ZM18,0H17V3h1V0ZM16,0H15V3h1V0ZM14,0H13V3h1V0ZM12,0H11V3h1V0ZM10,0H9V3h1V0ZM8,0H7V3H8V0ZM6,0H5V3H6V0ZM4,0H3V3H4V0Z\"/>",24,3)+"</div>",k+="</div>",j.innerHTML=k,h.els.picker=j,j},material_colors_grid_template:function(){for(var j="",k=g.length,m=0;m<k;m++){var p=g[m],q=p.length;j+="<div class=\"MCP_cg MCP_cg_"+m+"\">";for(var v,u=0;u<q;u++)v=p[u],j+=this.color_box_template("#"+v[0],v[1],m,v[2]);j+="</div>"}return j+=this.color_box_template("#ffffff","white",-1),"<div id=\"MCP_material_colors_grid_wrap\">"+(j+=this.color_box_template("#000000","black",-1))+"</div>"},fav_colors_grid_template:function(){for(var j=this.config.fav_colors,k="",m=j.length,p=0;p<m;p++)k+=this.color_box_template("rgba("+j[p]+")",!1,-1);return"<div id=\"MCP_fav_colors_grid_wrap\">"+k+"</div>"},color_box_template:function(j,k,m,p){return p=!1===p?"":"<div"+(1===p?" class=\"MCP_dark\"":"")+">"+k+"</div>","<div data-action=\"color\" data-cg=\""+m+"\" class=\""+b+"c"+(!1===k?"":" MCP_c_"+k)+"\" style=\"background:"+j+";\">"+p+"</div>"},slider_template:function(j,k,m,p){var q="<div class=\"MCP_slider_label_name\">"+j+"</div><div class=\""+b+"slider_label_output\" data-units=\""+p+"\">"+m[0]+"</div>";return"<div class=\"MCP_slider\">"+(q+="<div class=\"MCP_slider_range\" data-index=\""+k+"\" data-name=\""+j.toLowerCase()+"\" data-vars=\""+m.join(",")+"\"><div id=\""+b+"slider_"+j.toLowerCase()+"\" class=\""+b+"slider_handle\" data-x=\""+m[0]+"\" style=\"left:"+m[0]+"px\"></div></div>")+"</div>"},picker_events:function(j,k){var m=j||window.event,p=m.target,q=p.attributes["data-action"];if(q&&q.value&&"backlink"===q.value)return!0;for(var m=j||window.event,p=m.target,q=p.attributes["data-action"];p&&!q&&p!==k;)q=(p=p.parentNode).attributes["data-action"];switch(q.value){case"grid_btn":h.els.picker.className="MCP_state_grid",h.els.material_colors_grid_wrap.className="",h.save_frame_state("grid");break;case"tune_btn":h.els.picker.className="MCP_state_tune",h.save_frame_state("tune");break;case"fav_btn":h.els.picker.className="MCP_state_favs",h.save_frame_state("favs");break;case"color":var u=p.style.backgroundColor,v=p.attributes["data-cg"].value;if(u===h.state.color.raw_value)break;"favs"===h.state.frame&&!0===h.state.edit_favs?(p.outerHTML="",h.del_fav(h.rgba_format(u))):(h.update_color(u),"-1"!==v&&(h.els.material_colors_grid_wrap.className="MCP_state_cg MCP_state_cg_"+v),h.add_class(p,"MCP_c_c")),h.state.color.raw_value=u,h.els.prev_color_box&&h.els.prev_color_box!==p&&h.remove_class(h.els.prev_color_box,"MCP_c_c"),h.els.prev_color_box=p,h.tune_input_font_size();break;case"tune_input":p.select();break;case"reset_btn":h.els.target_input?h.update_color(h.els.target_input.attributes["data-init-value"].value):h.state.color.raw_value&&h.update_color(h.state.color.raw_value);break;case"add_fav_btn":h.els.prev_color_box&&h.remove_class(h.els.prev_color_box,"MCP_c_c"),0===h.config.fav_colors.length&&(h.els.edit_fav_btn.style.opacity=1),h.add_fav();break;case"edit_fav_btn":h.state.edit_favs?(p.className=p.className.replace(" MCP_edit_state",""),h.state.edit_favs=!1,h.els.fav_colors_grid_wrap.className=""):(p.className+=" MCP_edit_state",h.state.edit_favs=!0,h.els.fav_colors_grid_wrap.className=" MCP_edit_state");}this.cancel_bubble(m)},draggable:function(j,k){function m(y){var z=document.all?window.event.clientX:y.pageX,A=document.all?window.event.clientY:y.pageY;w=!0,x.first_mouse_x=z,x.first_mouse_y=A,y.preventDefault?y.preventDefault():document.onselectstart=function(){return!1},"function"==typeof k.onstart&&k.onstart(y,j),document.onmousemove=function(B){p(B||window.event)},document.ontouchmove=function(B){p(B.changedTouches[0])},document.onmouseup=function(B){q(B||window.event)},document.ontouchend=function(B){q(B.changedTouches[0])}}function p(y){var z=y.pageX||window.event.clientX,A=y.pageY||window.event.clientY;x.last_mouse_x=z,x.last_mouse_y=A,!1!=w&&(y.dx=u(),y.dy=v(),"function"==typeof k.onmove&&k.onmove(y,j),y.dx=0,y.dy=0)}function q(y){!1!=w&&(y.dx=u(),y.dy=v(),"function"==typeof k.onstop&&k.onstop(y,j),w=!1)}function u(){return x.last_mouse_x-x.first_mouse_x}function v(){return x.last_mouse_y-x.first_mouse_y}var w=!1,x={first_mouse_x:0,first_mouse_y:0,last_mouse_x:0,last_mouse_y:0};j.onclick=function(y){var z=y||window.event;h.cancel_bubble(z)},j.onmousedown=function(y){m(y||window.event,k.onstart)},j.ontouchstart=function(y){var z=y||window.event;z.preventDefault(),m(z.changedTouches[0],k.onstart)}},slider_calc_normal_val:function(j,k,m){var p=Math.round(j/94*m);return p<k&&(p=k),p>m&&(p=m),p},set_slider_value:function(j,k,m,p){var q=this.els["slider_"+j],u=this.els["slider_"+j+"_output"];k=k||0,m=m||0,q.style.left=k+"px",q.setAttribute("data-x",k),q.setAttribute("data-val",m),u.innerHTML=m,!0===p&&(q.style.left=k+"px")},update_color_component:function(j,k){"3"===k&&0<j&&(j/=100),this.state.color.hsva[k]=j,this.state.color.rgba=this.hsva_to_rgba(this.state.color.hsva),this.state.color.hex=this.rgba_to_hex(this.state.color.rgba),this.update_tune_input(),"normal"===this.config.mode&&this.update_color_output(),0<this.config.callbacks.length&&this.config.callbacks[this.config.target_callback](this.state.color)},validate_tune_input:function(j,k){var m=(j||window.event).keyCode;(48<=m&&57>=m||65<=m&&90>=m||8==m)&&this.update_color(k,!0),this.tune_input_font_size(k)},update_tune_input:function(){this.tune_input_font_size(),this.els.tune_input.value=1===this.state.color.rgba[3]?this.state.color.hex:this.state.color.rgba.join(", ")},tune_input_state:function(j){this.state.tune_input=j,this.els.tune_input.style.color=j?"tomato":""},tune_input_font_size:function(j){var k=j?j.length:this.els.tune_input.value.length;this.els.tune_input.style.fontSize=10<k?20<k?"13px":"15px":"17px"},update_color_output:function(){var j=this.get_ordinary_color_value(!0);this.els.target_preview&&(this.els.target_preview.children[0].style.backgroundColor=j),this.els.target_input.value=j},get_ordinary_color_value:function(j){return 1===this.state.color.rgba[3]?(j?"#":"")+this.state.color.hex.slice(1):(j?"rgba(":"")+this.state.color.rgba.join(", ")+(j?")":"")},save_frame_state:function(j){this.state.frame=j,this.supports_storage&&(localStorage.MCP_frame=j)},show_picker:function(j){void 0===j&&(j="#ffffff"),this.state.color.raw_value=j,this.update_color(j,!1),!0===this.state.hide&&(this.state.draggable_time||(this.els.picker.style.display="block",this.state.hide=!1))},hide_picker:function(){!1===this.state.hide&&(this.state.draggable_time||(this.els.picker.style.display="none",this.els.target_preview&&(this.els.target_preview.className="MCP_preview_wrap"),this.state.hide=!0,this.state.color.raw_value=!1,this.state.color.hex=!1,this.state.color.rgba=!1,this.state.color.hsva=!1))},get_fav_color_from_storage:function(){var j=localStorage.MCP_fav_colors||!1;j&&(this.config.fav_colors=j.split("|"))},set_fav_color_to_storage:function(){localStorage.MCP_fav_colors=this.config.fav_colors.join("|")},add_fav:function(){var j=this.state.color.rgba.join(",");if(-1===this.config.fav_colors.indexOf(j)){var k=this.color_box_template("rgba("+j+")",!1,-1,"\xD7");this.els.fav_colors_grid_wrap.innerHTML+=k,this.config.fav_colors.push(j),this.set_fav_color_to_storage()}},del_fav:function(j){var k=this.config.fav_colors.indexOf(j.join(","));-1<k&&(this.config.fav_colors.splice(k,1),this.set_fav_color_to_storage())},is_hex:function(j){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(j)},rgba_format:function(j){var k=j.indexOf("("),m=j.indexOf(")"),p=[];if(-1<k&&-1<m){var q=j.substr(k+1,m-k-1);j=q.replace(/ /g,"").split(","),this.els.tune_input.value=q}else j=j.split(",");var u=j.length;if(3!==u&&4!==u)return!1;for(var w,v=0;v<u;v++){if(w=parseFloat(j[v]),isNaN(w)||0>w||255<w)return!1;3===v&&(w=parseFloat(w.toFixed(2))||0),p.push(w)}return 3===u&&p.push(1),p},rgba_to_hex:function(j){return"#"+(16777216+(j[0]<<16)+(j[1]<<8)+j[2]).toString(16).slice(1)},hex_to_rgba:function(j){if(4==j.length){var k=j.split("#");j="#"+k[1]+k[1]}return j="0x"+j.substring(1),[255&j>>16,255&j>>8,255&j,1]},rgba_to_hsva:function(j){var k,m,p=j[0]/255,q=j[1]/255,u=j[2]/255,v=j[3]||1,w=Math.max(p,q,u),x=Math.min(p,q,u),y=w,z=w-x;return(m=0===w?0:z/w,w==x)?k=0:(w===p?k=(q-u)/z+(q<u?6:0):w===q?k=(u-p)/z+2:w===u?k=(p-q)/z+4:void 0,k/=6),k=Math.round(360*k),m=Math.round(100*m),y=Math.round(100*y),[k,m,y,v]},hsva_to_rgba:function(j){var k,m,p,q,u=j[0]/360,v=j[1]/100,w=j[2]/100,x=Math.floor(6*u),y=6*u-x,z=w*(1-v),A=w*(1-y*v),B=w*(1-(1-y)*v);switch(x%6){case 0:k=w,m=B,p=z;break;case 1:k=A,m=w,p=z;break;case 2:k=z,m=w,p=B;break;case 3:k=z,m=A,p=w;break;case 4:k=B,m=z,p=w;break;case 5:k=w,m=z,p=A;}return k=Math.round(255*k),m=Math.round(255*m),p=Math.round(255*p),q=j[3],[k,m,p,q]},svg_wrapper:function(j,k,m){return k=k||24,m=m||24,"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\""+k+"\" height=\""+m+"\" viewBox=\"0 0 "+k+" "+m+"\" class=\""+b+"svg\">"+j+"</svg>"},cancel_bubble:function(j){return void 0===j.stopPropagation?j.cancelBubble=!0:j.stopPropagation(),j.preventDefault(),!1},supports_storage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(j){return!1}},add_class:function(j,k){if(j){var m=j.className;j.className=m+(-1===m.indexOf(k)?(m?" ":"")+k:"")}},remove_class:function(j,k){if(j){var m=j.className;-1!==m.indexOf(k)&&(j.className=m.replace(k,"").trim())}}};return h}();